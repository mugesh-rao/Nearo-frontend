import{G as m,b as y,h as k,v as w,w as A,r as i,i as L,k as z,j as s,L as M,Y as r,aG as S,c,e as P}from"./index-70997a97.js";import{R as C}from"./index.esm-5a71c6ac.js";import{f as E}from"./index.esm-267541a1.js";function H(n){return m({tag:"svg",attr:{version:"1.1",viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M4.859 7.401v2.115h13.256v-4.231h-13.256v2.115zM22.91 7.401v2.115h4.231v-4.231h-4.231v2.115zM4.859 16.427v2.115h22.282v-4.231h-22.282v2.115zM4.859 25.311v1.974h8.744v-3.949h-8.744v1.975zM18.398 25.311v1.974h8.744v-3.949h-8.744v1.975z"}}]})(n)}function O(n){return m({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M13 10h-2V8h2v2zm0-4h-2V1h2v5zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zm-8.9-5h7.45c.75 0 1.41-.41 1.75-1.03L21 4.96 19.25 4l-3.7 7H8.53L4.27 2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7l1.1-2z"}}]})(n)}const R=()=>{const n=y(),p=k(),{activeLinkParam:l}=w(),d=A(),[t,x]=i.useState(l);i.useEffect(()=>{x(l)},[l]),i.useEffect(()=>{x(d.pathname)},[d]);const u=()=>{n("processing")},v=()=>{n("/dashboard/inventory")},g=()=>{n("lowstocks")},j=()=>{n("exchange")},b=o=>P({url:"dashboard/get_shop_product_stats",method:"post",data:o}),a=L(),{mutate:f,isLoading:N}=z(b,{onSuccess:o=>{var h;console.log(o==null?void 0:o.data.data),_((h=o==null?void 0:o.data)==null?void 0:h.data),a.invalidateQueries("session_id")},onError:o=>{console.log(o)},retry:{maxAttempts:3,delay:o=>o*1e3}}),[e,_]=i.useState(i.useMemo(()=>{const o=a.getQueryData("session_id");return o?o.data:null},[a]));return i.useEffect(()=>{const o=new FormData;o.append("session_id",p),f(o)},[]),N?s.jsx("div",{className:"h-screen grid place-items-center fixed z-20 top-0 right-0 bottom-0 left-0 bg-white",children:s.jsx(M,{})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"hidden md:flex justify-between items-center px-2 py-5 shadow-[0px_2px_3px_-1px_rgba(0,0,0,0.1),0px_1px_0px_0px_rgba(25,28,33,0.02),0px_0px_0px_1px_rgba(25,28,33,0.08)] lg:rounded-lg bg-white mx-2 my-5 ",children:[s.jsxs("div",{onClick:v,className:"flex items-center cursor-pointer ",children:[s.jsx("div",{style:{background:r[1].bg,color:r[1].color},className:"p-3 rounded-lg ",children:s.jsx(H,{className:"text-3xl "})}),s.jsxs("div",{className:"mx-2",children:[s.jsx("p",{className:"text-[#5a5a0a]",children:"All Products"}),s.jsxs("h1",{className:"text-xl font-semibold",children:[e&&(e==null?void 0:e.num_all_products)," "]})]})]}),s.jsxs("div",{onClick:u,className:"flex items-center cursor-pointer ",children:[s.jsx("div",{style:{background:r[2].bg,color:r[2].color},className:"p-3 rounded-lg ",children:s.jsx(S,{className:"text-3xl "})}),s.jsxs("div",{className:"mx-2",children:[s.jsx("p",{className:"text-[#5a5a0a]",children:"Processing"}),s.jsxs("h1",{className:"text-xl font-semibold",children:[e&&(e==null?void 0:e.num_processing)," "]})]})]}),s.jsxs("div",{onClick:g,className:"flex items-center cursor-pointer ",children:[s.jsx("div",{style:{background:r[3].bg,color:r[3].color},className:"p-3 rounded-lg ",children:s.jsx(O,{className:"text-3xl "})}),s.jsxs("div",{className:"mx-2",children:[s.jsx("p",{className:"text-[#5a5a0a]",children:"Low Stock "}),s.jsxs("h1",{className:"text-xl font-semibold",children:[e&&(e==null?void 0:e.num_low_stock)," "]})]})]}),s.jsxs("div",{onClick:j,className:"flex items-center cursor-pointer",children:[s.jsx("div",{style:{background:r[4].bg,color:r[4].color},className:"p-3 rounded-lg ",children:s.jsx(C,{className:"text-3xl "})}),s.jsxs("div",{className:"mx-2",children:[s.jsx("p",{className:"text-[#5a5a0a]",children:"Out of Stock"}),s.jsxs("h1",{className:"text-xl font-semibold",children:[e&&(e==null?void 0:e.num_out_of_stock)," "]})]})]}),s.jsxs("div",{"aria-disabled":!0,className:"flex items-center cursor-not-allowed",children:[s.jsx("div",{className:"p-3 rounded-lg bg-red-100 text-red-400 ",children:s.jsx(E,{className:"text-3xl "})}),s.jsxs("div",{className:"mx-2",children:[s.jsx("p",{className:"text-[#5a5a0a]",children:"Archive    "}),s.jsx("h1",{className:"text-xl font-semibold",children:"0"})]})]})]}),s.jsxs("div",{className:"responsive custom800:hidden bg-white pt-2",children:[s.jsx("h2",{className:"ml-4 text-xl font-semibold text-[#1687a7]",children:"Inventory"}),s.jsx("div",{className:"overflow-x-auto whitespace-nowrap mt-2",children:s.jsxs("ul",{className:"flex w-max  h-10 justify-between space-x-8  sm:w-full",children:[s.jsx("li",{className:"ml-4",children:s.jsxs(c,{to:"/dashboard/inventory",isActive:()=>t==="/dashboard/inventory",style:{padding:"0 0 3px 0",color:t==="/dashboard/inventory"?"#1687A7":"",borderBottom:t==="/dashboard/inventory"?"2px solid #1687A7":""},children:["All Products (",e&&(e==null?void 0:e.num_all_products),")"]})}),s.jsx("li",{children:s.jsxs(c,{to:"processing",isActive:()=>t==="/dashboard/inventory/processing",style:{padding:"0 0 3px 0",color:t==="/dashboard/inventory/processing"?"#1687A7":"",borderBottom:t==="/dashboard/inventory/processing"?"2px solid #1687A7":""},children:["Processing (",e&&(e==null?void 0:e.num_processing),")"]})}),s.jsx("li",{children:s.jsxs(c,{to:"lowstocks",isActive:()=>t==="/dashboard/inventory/lowstocks",style:{padding:"0 0 3px 0",color:t==="/dashboard/inventory/lowstocks"?"#1687A7":"",borderBottom:t==="/dashboard/inventory/lowstocks"?"2px solid #1687A7":""},children:["Low Stock (",e&&(e==null?void 0:e.num_low_stock),")"]})}),s.jsx("li",{className:"pr-6",children:s.jsxs(c,{to:"exchange",isActive:()=>t==="/dashboard/inventory/exchange",style:{padding:"0 0 3px 0",color:t==="/dashboard/inventory/exchange"?"#1687A7":"",borderBottom:t==="/dashboard/inventory/exchange"?"2px solid #1687A7":""},children:["Out Of Stock (",e&&(e==null?void 0:e.num_out_of_stock),")"]})})]})})]})]})};export{R as default};

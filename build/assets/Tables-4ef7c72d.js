import{aa as m,ab as S,ac as u,a8 as h,i as f,h as q,b as D,r as c,k as E,j as a,a4 as P,a5 as k,a6 as I,a7 as A,a9 as R,s as d,e as z}from"./index-70997a97.js";import{B as p}from"./Button-da6a835c.js";const o=m(S)(({theme:n})=>({[`&.${u.head}`]:{backgroundColor:n.palette.common.gray,color:n.palette.common.black},[`&.${u.body}`]:{fontSize:14}})),B=m(h)(({theme:n})=>({"&:nth-of-type(odd)":{backgroundColor:n.palette.action.hover},"&:last-child td, &:last-child th":{border:0}})),F=({data:n})=>{const b=f(),g=q(),_=D(),[r,i]=c.useState([...n]);c.useEffect(()=>{i([...n])},[n]);const x=e=>{_(`/dashboard/add_product/edit/${e}`)},y=e=>z({url:"products/update_product_quantity_price",method:"post",data:e}),{mutate:j,isLoading:N}=E(y,{onSuccess:e=>{var t,l,s;(t=e==null?void 0:e.data)!=null&&t.success?d.success((l=e==null?void 0:e.data)==null?void 0:l.message):d.error((s=e==null?void 0:e.data)==null?void 0:s.message),b.invalidateQueries("add_products")},onError:e=>{d.error(e)},retry:{maxAttempts:3,delay:e=>e*1e3}}),v=e=>{const t=new FormData;t.append("session_id",g),t.append("product_id",e.product_id),t.append("quantity",e.quantity_available),t.append("mrp",e.mrp),t.append("price",e.price),j(t)},C=e=>{const t=[...r];v(t[e]),i(t)},T=["Size","Quantity","MRP","Sell Price","Action"];return a.jsx(P,{component:k,children:a.jsxs(I,{sx:{minWidth:700},"aria-label":"customized table",children:[a.jsx(A,{children:a.jsx(h,{children:T.map((e,t)=>a.jsx(c.Fragment,{children:a.jsx(o,{align:t===0?"left":"right",children:e})},e))})}),a.jsx(R,{children:r.map((e,t)=>a.jsxs(B,{children:[a.jsx(o,{component:"th",scope:"row",children:e.product_main_attribute_value_title}),a.jsx(o,{align:"right",children:a.jsx("input",{type:"number",value:e.quantity_available,onChange:l=>{const s=[...r];s[t].quantity_available=parseInt(l.target.value),i(s)},className:"w-14 outline-none "})}),a.jsx(o,{align:"right",children:a.jsx("input",{type:"number",value:e.mrp,onChange:l=>{const s=[...r];s[t].mrp=parseInt(l.target.value),i(s)},className:"w-14 outline-none "})}),a.jsx(o,{align:"right",children:a.jsx("input",{type:"number",value:e.price,onChange:l=>{const s=[...r];s[t].price=parseInt(l.target.value),i(s)},className:"w-14 outline-none"})}),a.jsxs(o,{align:"right",children:[a.jsx(p,{onClick:()=>C(t),children:"Save"}),a.jsx(p,{onClick:()=>x(e==null?void 0:e.product_id),children:"EDIT Size"})]})]},e.main_attribute_value_id))})]})})};export{F as default};

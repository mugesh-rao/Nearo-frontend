import{r as l,_ as S,b as A,h as D,a as F,i as O,k as x,j as e,c as E,e as f}from"./index-70997a97.js";import{d as L}from"./KeyboardArrowLeft-448a38e0.js";import{C as z,p as P}from"./Caoursel-9068c7ab.js";import{L as T}from"./LazyLoadImage-edf60663.js";import{B}from"./Button-da6a835c.js";import"./index.esm-39fce067.js";const I=l.lazy(()=>S(()=>import("./index-70997a97.js").then(i=>i.bC),["assets/index-70997a97.js","assets/index-52a015f8.css"])),J=()=>{var d;const i=A(),n=D(),[c,h]=l.useState([]),y=()=>{l.startTransition(()=>i("/dashboard/"))},j=F();l.useEffect(()=>{j({type:"falseDash"})},[]);const b=s=>f({url:"/shop/get_shop_details",method:"post",data:s}),a=O(),g=x(b,{onSuccess:s=>{var r,u,p;w((r=s==null?void 0:s.data)==null?void 0:r.data),h(((p=(u=s==null?void 0:s.data)==null?void 0:u.data)==null?void 0:p.shop_timings)||[]),a.invalidateQueries("shop_details")},onError:s=>{console.log(s)},retry:{maxAttempts:3,delay:s=>s*1e3}}),[t,w]=l.useState(l.useMemo(()=>{const s=a.getQueryData("session_id");return s?s.data:null},[a])),[N,v]=l.useState(!0),_=x(s=>f({url:"/datas/get_product_categories1",method:"post",data:s}),{onSuccess:s=>{var r;k((r=s==null?void 0:s.data)==null?void 0:r.data),a.invalidateQueries("session_id")},onError:s=>{console.log(s)},retry:{maxAttempts:3,delay:s=>s*1e3}}),[o,k]=l.useState(l.useMemo(()=>{const s=a.getQueryData("session_id");return s?s.data:null},[a]));l.useEffect(()=>{if(!n)i("/login");else{const s=new FormData;s.append("session_id",n),g.mutate(s),_.mutate(),v(!1)}},[n]);const C=()=>(t==null?void 0:t.banner_images)&&(t==null?void 0:t.banner_images.split(",")),m=o==null?void 0:o.filter(s=>s.product_category_id===(t==null?void 0:t.shop_category));return N?e.jsx("div",{className:"h-screen grid place-items-center absolute bg-white z-20 top-0 right-0 bottom-0 left-0",children:e.jsx(l.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(I,{})})}):e.jsxs(e.Fragment,{children:[e.jsxs(B,{variant:"text",sx:{margin:"12px 4%"},onClick:y,children:[e.jsx(L,{})," Back"]}),e.jsx("div",{children:e.jsxs("div",{className:"slider border border-2",children:[e.jsxs("div",{children:[e.jsx(z,{newBanner:C()}),e.jsx("div",{className:"relative -top-24 md:-top-28 md:left-28 left-8 c500:left-14  z-10 w-24 h-24 sm:w-28 sm:h-28 md:w-32 md:h-32 lg:w-36 lg:h-36 rounded-full ",children:e.jsx(T,{src:t!=null&&t.main_image?t==null?void 0:t.main_image:P,alt:"profile",className:"w-full h-full border-[5px] sm:border-[7px] border-white rounded-full bg-white"})}),e.jsx("br",{})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(E,{to:"/shop/editprofile",children:e.jsx("button",{className:"mr-4 c500:mr-16 -mt-24 custom400:-mt-28 md:-mt-36 text-sm px-8 c500:px-10 py-2 input-border text-[#1687a7] hover:bg-[#1687a7] hover:text-white  duration-700 float-right font-semibold ",type:"submit",children:"Edit Profile"})})}),e.jsxs("div",{className:"w-[96%] GAGAN mx-auto px-4 py-8 rounded-lg sm:w-[90%] md:w-[800px] -mt-4 c400:-mt-12 sm:-mt-[87px] md:-mt-24",children:[e.jsxs("label",{htmlFor:"shop",className:"block sm:flex items-center justify-between w-full ",children:[e.jsx("p",{children:"Shop Name "}),e.jsx("input",{value:t==null?void 0:t.shop_name,type:"text",name:"shopName",className:"w-full my-2 p-2 text-[.9rem] black_border sm:w-[78%] capitalize",readOnly:!0})]}),e.jsxs("label",{htmlFor:"shop contact",className:"block sm:flex items-center justify-between w-full ",children:[e.jsx("p",{children:"Shop Contact "}),e.jsx("input",{value:t==null?void 0:t.shop_contact,type:"text",name:"shopName",className:"w-full my-2 p-2 text-[.9rem] black_border sm:w-[78%]",readOnly:!0})]}),e.jsxs("label",{htmlFor:"category",className:"block sm:flex items-center justify-between w-full ",children:[e.jsx("p",{children:" Shop Category "}),e.jsx("input",{value:m?(d=m[0])==null?void 0:d.product_category_title:"",type:"text",readOnly:!0,name:"shopCategory",className:"w-full my-2 p-2 text-[.9rem] black_border sm:w-[78%] capitalize"})]}),e.jsxs("label",{htmlFor:"shop address",className:"block sm:flex items-center justify-between w-full ",children:[e.jsx("p",{children:" Shop Address "}),e.jsx("input",{value:t==null?void 0:t.shop_address,type:"text",name:"shopAddress",readOnly:!0,className:"w-full my-2 p-2 text-[.9rem] black_border sm:w-[78%] capitalize"})]}),e.jsxs("label",{htmlFor:"",className:"block sm:flex items-center justify-between w-full ",children:[e.jsx("p",{children:" Pickup Address "}),e.jsx("input",{value:t==null?void 0:t.shop_pickup_address,type:"text",name:"pickupAddress",readOnly:!0,className:"w-full my-2 p-2 text-[.9rem] black_border sm:w-[78%] capitalize"})]}),e.jsxs("label",{htmlFor:"timings",className:"block sm:flex justify-between w-full my-4",children:[e.jsx("p",{children:" Shop Timings "}),e.jsx("div",{className:"flex items-center sm:w-[78%] md:justify-between flex-col",children:c.length>0?c.map((s,r)=>e.jsxs("div",{className:"flex items-center justify-around w-full",children:[e.jsx("div",{className:"md:w-[40%]",children:e.jsx("input",{placeholder:"Days",type:"text",name:"days",value:s.d,className:"w-full my-2 p-2 text-[.9rem] input-border placeholder:text-[#A2CFDC] outline-none text-[#1687a7]",readOnly:!0})}),e.jsx("p",{className:"mx-1",children:" /"}),s.s==="off"?e.jsx("div",{className:"w-full flex items-center justify-around border p-1 rounded border-2 border-[#A2CFDC]",children:"Off"}):e.jsxs("div",{className:"w-full flex items-center justify-around",children:[e.jsx("input",{placeholder:"Opening Time",type:"text",readOnly:!0,value:s.o,name:"openTime",className:"w-full my-2 p-2 text-[.9rem] input-border placeholder:text-[#A2CFDC] outline-none text-[#1687a7]  "}),e.jsx("p",{className:"mx-1",children:" : "}),e.jsx("input",{placeholder:"Closing time",type:"text",name:"closeTime",value:s.c,readOnly:!0,className:"w-full my-2 p-2 text-[.9rem] input-border placeholder:text-[#A2CFDC] outline-none text-[#1687a7]  "})]})]},r)):"Please set the timings first"})]}),e.jsx("br",{})]})]})})]})};export{J as default};

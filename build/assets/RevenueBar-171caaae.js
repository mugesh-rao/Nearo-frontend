import{r as n,_ as y,b as _,h as N,i as w,k as M,j as e,e as k}from"./index-70997a97.js";import{F as E,S as T,M as i}from"./Select-569c6f7c.js";import"./useFormControl-0c2f0a6a.js";import"./List-32c2f291.js";import"./dividerClasses-1ca545a7.js";import"./formControlState-a1fb9590.js";const C=n.lazy(()=>y(()=>import("./index-70997a97.js").then(o=>o.bC),["assets/index-70997a97.js","assets/index-52a015f8.css"])),$=({timeFrame:o,setTimeFrame:x})=>{const r=_(),c=N(),m=()=>{r("/dashboard/revenue")},h=()=>{r("/dashboard/revenue/payout_amount")},p=()=>{r("/dashboard/revenue/pending")},b=()=>{r("/dashboard/revenue/payout_details")},v=s=>k({url:"/revenue/revenue_stats",method:"post",data:s}),d=w(),{mutate:f,isLoading:g}=M(v,{onSuccess:s=>{var u;j((u=s==null?void 0:s.data)==null?void 0:u.data),d.invalidateQueries("session_id")},onError:s=>{console.log(s)},retry:{maxAttempts:3,delay:s=>s*1e3}}),[t,j]=n.useState(n.useMemo(()=>{const s=d.getQueryData("session_id");return s?s.data:null},[d]));n.useEffect(()=>{if(!c)r("/login");else{const s=new FormData;s.append("session_id",c),s.append("timeframe",o),f(s)}},[o]);const[l,a]=n.useState({a:!1,b:!1,c:!1,d:!1});return g?e.jsx("div",{className:"h-screen grid place-items-center absolute bg-white z-20 top-0 right-0 bottom-0 left-0",children:e.jsx(n.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(C,{})})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"my-0 mx-2 p-2 pt-10  ",children:[e.jsxs("div",{className:"flex justify-between items-center  ",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl text-black font-semibold",children:["Shop","'","s Revenue"]}),e.jsx(E,{sx:{m:"5px 0 5px 0",border:"none","& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{border:"1px solid green"},outline:"none"},className:" rounded-xl",size:"small",children:e.jsxs(T,{labelId:"demo-select-small-label",id:"demo-select-small",name:"chart_filter",value:o,onChange:s=>x(s.target.value),className:" outline-none h-9 w-[141px] bg-cyan-50 rounded-xl ",displayEmpty:!0,inputProps:{"aria-label":"Without label"},sx:{color:"#1687a7"},children:[e.jsx(i,{value:"this_week",sx:{color:"#1687a7"},children:"This Week"}),e.jsx(i,{value:"this_month",sx:{color:"#1687a7"},children:"This Month"}),e.jsx(i,{value:"this_year",sx:{color:"#1687a7"},children:"This Year"}),e.jsx(i,{value:"last_year",sx:{color:"#1687a7"},children:"Last Year"}),e.jsx(i,{value:"older",sx:{color:"#1687a7"},children:"Older"})]})})]}),e.jsxs("div",{className:" mx-auto md:w-[90%] grid-cols-2 c500:grid-cols-3 grid sm:grid-cols-4 my-5 gap-6 md:gap-10 ",children:[e.jsxs("div",{className:" bg-red-100 rounded-lg p-2 cursor-pointer relative duration-500",onClick:m,onMouseEnter:()=>a({...l,a:!0,b:!1,c:!1,d:!1}),onMouseLeave:()=>a({...l,a:!1}),children:[e.jsx("p",{className:"text-[#1687a7]",children:"Total Revenue"})," ",e.jsxs("h2",{className:"text-3xl font-semibold",children:["₹",t==null?void 0:t.total_revenue]})," ",e.jsx("div",{className:`absolute -left-1 bg-white shadow-xl ${l.a?"visible ":"invisible"} rounded-lg p-1 text-[14px] border border-gray-200 text-center `,children:"Total amount of delivered products"})]}),e.jsxs("div",{className:" bg-green-100 rounded-lg p-2  cursor-pointer relative",onClick:h,onMouseEnter:()=>a({...l,b:!0,a:!1,c:!1,d:!1}),onMouseLeave:()=>a({...l,b:!1}),children:[e.jsx("p",{className:"text-[#1687a7]",children:"Payble Amount"})," ",e.jsxs("h2",{className:"text-3xl font-semibold",children:["₹",t==null?void 0:t.payble_amount]}),e.jsx("div",{className:`absolute -left-1 bg-white shadow-xl ${l.b?"visible ":"invisible"} rounded-lg p-1 text-[14px] border border-gray-200 text-center `,children:"Total amount to receive after end of return period"})]}),e.jsxs("div",{className:"bg-cyan-100 rounded-lg p-2 cursor-pointer relative",onClick:p,onMouseEnter:()=>a({...l,c:!0,a:!1,b:!1,d:!1}),onMouseLeave:()=>a({...l,c:!1}),children:[" ",e.jsx("p",{className:"text-[#1687a7]",children:"Pending"})," ",e.jsxs("h2",{className:"text-3xl font-semibold",children:["₹",t==null?void 0:t.pending_amount]}),e.jsx("div",{className:`absolute -left-1 bg-white shadow-xl ${l.c?"visible ":"invisible"} rounded-lg p-1 text-[14px] border border-gray-200 text-center`,children:"Total amount of products in return period"})]}),e.jsxs("div",{className:" bg-yellow-100 rounded-lg p-2 cursor-pointer relative ",onClick:b,onMouseEnter:()=>a({...l,d:!0,a:!1,b:!1,c:!1}),onMouseLeave:()=>a({...l,d:!1}),children:[e.jsx("p",{className:"text-[#1687a7]",children:"Payments"})," ",e.jsx("h2",{className:"text-3xl font-semibold",children:t==null?void 0:t.payments_slips}),e.jsx("div",{className:`absolute -left-1 bg-white shadow-xl ${l.d?"visible ":"invisible"} rounded-lg p-1 text-[14px] border border-gray-200 text-center `,children:"Total payment receipts to receive in your bank account on every weekend"})]})]})]})})};export{$ as default};

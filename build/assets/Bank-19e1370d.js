import{ad as v,ae as A,j as e,b as F,a as B,r as x,u as L,i as R,k as H,L as U,R as E,s as j,e as q}from"./index-70997a97.js";import{d as z}from"./KeyboardArrowLeft-448a38e0.js";import{u as I,e as V}from"./index-cd29d591.js";import{B as b}from"./Button-da6a835c.js";const M="/assets/bank-f633a82a.png";var p={},G=A;Object.defineProperty(p,"__esModule",{value:!0});var N=p.default=void 0,P=G(v()),T=e,O=(0,P.default)((0,T.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"}),"UploadFile");N=p.default=O;let Q={account:"",holder:"",ifsc:"",pan:"",file:null};const X=()=>{const m=F(),i=B(),[u,h]=x.useState(null);x.useEffect(()=>{i({type:"falselog"}),i({type:"falser"})},[]);const _=()=>{m(-1),i({type:"truer"}),i({type:"truelog"})},{shopData:a,personalData2:s}=L(t=>t.showHide),y=t=>q({url:"/login/register",method:"post",data:t}),w=R(),{mutate:C,isLoading:f,isError:g}=H(y,{onSuccess:t=>{console.log(t.data.message),(t==null?void 0:t.data.success)==0?(j.error(t==null?void 0:t.data.message),m("/signup/personaldetails")):(t==null?void 0:t.data.success)==1&&(j.success(t==null?void 0:t.data.message),x.startTransition(()=>{i({type:"signUp"}),m("/signup/sucess")})),w.invalidateQueries("seller_details")},onError:t=>{console.log(t)},retry:{maxAttempts:3,delay:t=>t*1e3}}),{values:o,errors:n,touched:c,handleBlur:r,handleChange:d,handleSubmit:k,setFieldValue:S}=I({initialValues:Q,validationSchema:V,onSubmit:t=>{const l=new FormData;l.append("session_id",s==null?void 0:s.session_id),l.append("name",s==null?void 0:s.name),l.append("email",s==null?void 0:s.email),l.append("phone_no",s==null?void 0:s.phoneNumber),l.append("password",s==null?void 0:s.password),l.append("shop_name",a==null?void 0:a.shopName),l.append("shop_category",a==null?void 0:a.category),l.append("gst_number",a==null?void 0:a.GstNumber),l.append("seller_shop_pickup_add_line1",a==null?void 0:a.pickup),l.append("seller_shop_add_line1",a==null?void 0:a.shopAdd),l.append("pincode",a==null?void 0:a.pincode),l.append("city",a==null?void 0:a.city),l.append("state",a==null?void 0:a.state),l.append("bank_details_account_no",t==null?void 0:t.account),l.append("bank_details_account_holder_name",t==null?void 0:t.holder),l.append("bank_details_ifsc_code",t==null?void 0:t.ifsc),l.append("bank_details_pan_number",t==null?void 0:t.pan),l.append("signature",t==null?void 0:t.file),C(l)}});return f?e.jsx("div",{className:"h-screen w-full grid place-items-center fixed z-20 top-0 right-0 bottom-0 left-0 bg-white",children:e.jsx(U,{})}):(g&&console.log(g),e.jsx(e.Fragment,{children:!f&&e.jsxs("div",{className:"bank mt-20",children:[e.jsxs(b,{variant:"text",sx:{margin:"-60px 0 0 2%"},onClick:_,children:[e.jsx(z,{})," Back"]}),e.jsxs("div",{className:" flex mx-auto w-[94%] justify-between items-center md:w-1/2 md:mx-12",children:[e.jsx("h1",{className:"text-2xl font-bold sm:text-3xl ",children:"Bank Details"}),e.jsxs("div",{children:[e.jsx("div",{className:"w-[100px] h-2 bg-[#6666] rounded-md",children:e.jsx("div",{className:"w-[100px] h-2 bg-[#1687a7] rounded-md "})}),e.jsx("p",{className:"text-center my-2 text-[#1687a7]",children:" Step 3/3"})]})]}),e.jsxs("div",{className:" w-[94%] md:w-[74%] lg:w-[94%] rounded-xl mx-auto my-10 GAGAN  py-8 px-3 lg:px-8 lg:flex justify-between ",children:[e.jsx("div",{className:"lg:w-[55%]",children:e.jsxs("form",{action:"#",onSubmit:k,className:"w-full  text-[#5a5a5a] ",children:[e.jsxs("p",{className:"text-[1rem]",children:["Account Number",e.jsx("sup",{children:"*"})," "]}),e.jsx("input",{type:"number",name:"account",autoComplete:"off",placeholder:"Account Number",value:o.account,onChange:d,onBlur:r,className:"w-full my-2 p-2 text-[.9rem] input-border placeholder:text-[#A2CFDC] outline-none text-[#1687a7] "}),n.account&&c.account&&e.jsx("p",{className:"text-red-500 text-sm",children:n.account}),e.jsxs("div",{className:" account",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-[1rem]",children:["Account Holder Name",e.jsx("sup",{children:"*"})," "]}),e.jsx("input",{type:"text",name:"holder",placeholder:"Account Holder Name",value:o.holder,onChange:d,onBlur:r,className:"w-full my-2 p-2 text-[.9rem] input-border placeholder:text-[#A2CFDC] outline-none text-[#1687a7] "}),n.holder&&c.holder&&e.jsx("p",{className:"text-red-500 text-sm",children:n.holder})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-[1rem]",children:["IFSC Code",e.jsx("sup",{children:"*"})," "]}),e.jsx("input",{type:"text",name:"ifsc",placeholder:"IFSC Code",value:o.ifsc,onChange:d,onBlur:r,className:"w-full my-2 p-2 text-[.9rem] input-border placeholder:text-[#A2CFDC] outline-none text-[#1687a7]"}),n.ifsc&&c.ifsc&&e.jsx("p",{className:"text-red-500 text-sm",children:n.ifsc})]})]}),e.jsxs("p",{className:"text-[1rem]",children:["PAN Number",e.jsx("sup",{children:"*"})," "]}),e.jsx("input",{type:"text",name:"pan",placeholder:"PAN Number",value:o.pan,onChange:d,onBlur:r,className:"w-full my-2 p-2 text-[.9rem] input-border placeholder:text-[#A2CFDC] outline-none text-[#1687a7] uppercase "}),n.pan&&c.pan&&e.jsx("p",{className:"text-red-500 text-sm",children:n.pan}),e.jsx("p",{className:"text-[1rem]",children:"Upload Signature"}),u?e.jsxs("div",{className:"h-24 w-24 relative my-4 ",children:[e.jsx(E,{className:"text-2xl bg-cyan-500 rounded-full text-white float-right text-right absolute -right-2 -top-2 cursor-pointer",onClick:()=>h(null)}),e.jsx("img",{src:u&&URL.createObjectURL(u),alt:"signature",className:"h-full w-full border-dashed input-border"})]}):e.jsxs(b,{variant:"outlined",component:"label",size:"small",sx:{height:"38px",color:"#1687a7",marginTop:"4px"},className:"w-full   custom400:w-1/2  text-[#1687a7] ",children:[e.jsx(N,{})," Â  Upload Here",e.jsx("input",{hidden:!0,accept:"image/*",type:"file",name:"file",onChange:t=>{d(t);const l=t.currentTarget.files[0];h(l),S("file",l)},onBlur:r})]}),n.file&&c.file&&e.jsx("p",{className:"text-red-500 text-sm",children:n.file}),e.jsx("input",{type:"submit",name:"submit",value:"Submit",className:"w-full my-8 p-[10px] text-[.9rem] text-white bg-[#1687a7] rounded-lg font-semibold cursor-pointer"})]})}),e.jsx("div",{className:"hidden lg:block my-10",children:e.jsx("img",{src:M,alt:"ds"})})]})]})}))};export{X as default};

import{r as a,_ as k,a as L,b as A,j as e,L as v,C as B,d as T,e as z}from"./index-70997a97.js";import{d as O}from"./KeyboardArrowLeft-448a38e0.js";import{u as R,l as q}from"./index-cd29d591.js";import{P as G,a as I}from"./index.esm-267541a1.js";import{B as V}from"./Button-da6a835c.js";const U=a.lazy(()=>k(()=>import("./Forget-7d4e4980.js"),["assets/Forget-7d4e4980.js","assets/index-70997a97.js","assets/index-52a015f8.css","assets/index-cd29d591.js","assets/index.esm-267541a1.js"]));let $={login:"",password:""};const W=()=>{const s=L(),[n,c]=a.useState(!1),[m,r]=a.useState(!1),i=A();a.useEffect(()=>{s({type:"trueDash"}),s({type:"falser"})});const[C,x]=a.useState(!1),[p,P]=a.useState(""),D=l=>z({url:"/login/login",method:"post",data:l}),{values:u,errors:o,touched:h,handleBlur:g,handleChange:f,handleSubmit:S}=R({initialValues:$,validationSchema:q,onSubmit:l=>{const d=new FormData;d.append("email",l.email),d.append("password",l.password),x(!0),a.startTransition(()=>{D(d).then(t=>{var w,j,N,b,y;((w=t==null?void 0:t.data)==null?void 0:w.success)===1?(console.log((j=t==null?void 0:t.data)==null?void 0:j.session_id),T.set("session_id",(N=t==null?void 0:t.data)==null?void 0:N.session_id,{expires:7}),s({type:"login"}),s({type:"storePersonalDetails",payload:t==null?void 0:t.data}),s({type:"falseDash"}),i(`/${(b=t==null?void 0:t.data)==null?void 0:b.redirect}`)):P((y=t==null?void 0:t.data)==null?void 0:y.message)}).finally(()=>{x(!1)})})}}),_=()=>{i("/"),s({type:"truer"})},E=()=>{i("/signup/personaldetails"),s({type:"falselog"})},F=()=>{c(n!==!0)};return C?e.jsx("div",{className:"h-screen w-full grid place-items-center fixed z-20 top-0 right-0 bottom-0 left-0 bg-white",children:e.jsx(v,{})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"login mt-10",children:[e.jsxs(V,{variant:"text",sx:{marginLeft:"4%"},onClick:_,children:[e.jsx(O,{})," Back"]}),e.jsxs("div",{className:"login-box w-[94%] sm:w-[70%] md:w-[50%] lg:w-[40%]  rounded-xl mx-auto my-10 GAGAN2 py-8 px-3 lg:px-8 ",children:[e.jsx("h2",{className:"text-center text-2xl font-bold",children:"Login"}),e.jsxs("form",{action:"",onSubmit:S,className:"w-full  pt-7 text-[#5a5a5a] ",children:[e.jsx("p",{className:"text-sm sm:text-lg",children:"Email or Phone Number"}),e.jsx("input",{type:"text",placeholder:"Email ID or Phone Number",required:!0,name:"email",value:u.email,onChange:f,onBlur:g,className:"w-full my-1 p-2 text-[.9rem] input-border placeholder:text-[#A2CFDC] outline-none text-[#1687a7] "}),o.email&&h.email?e.jsx("p",{className:"text-red-500 text-sm",children:o.email}):"",e.jsx("p",{className:"text-sm sm:text-lg mt-3",children:" Password"}),e.jsxs("div",{className:" input-border text-black w-full flex items-center my-1",children:[e.jsx("input",{type:n?"password":"text",placeholder:"Password",name:"password",value:u.password,onChange:f,onBlur:g,autoComplete:"new-password",onFocus:l=>l.target.setAttribute("autocomplete","new-password"),className:"w-full p-2 text-[.9rem] border-none rounded-s-lg  placeholder:text-[#A2CFDC] outline-none  text-[#1687a7] "}),e.jsx("div",{onClick:F,className:" cursor-pointer mx-1 text-[#1687a7]",children:n?e.jsx(G,{className:"text-2xl"}):e.jsx(I,{className:"text-2xl"})})]}),o.password&&h.password?e.jsx("p",{className:"text-red-500 text-sm ",children:o.password}):"",p&&e.jsx("p",{className:"text-red-500 text-sm",children:p}),e.jsx("button",{className:"text-right text-[1rem] underline hover:no-underline my-4 float-right",type:"button",onClick:()=>r(!0),children:"Forget password?"}),e.jsx("br",{}),e.jsx("input",{type:"submit",name:"submit",value:"Login",className:"w-full my-2 p-[10px] text-[.9rem] text-white bg-[#1687a7] rounded-lg font-semibold cursor-pointer"})]}),e.jsxs("div",{className:"create",children:[e.jsx("p",{className:"text-center py-4",children:"or"}),e.jsxs("h4",{className:"flex items-center justify-center text-[#5a5a5a80]",children:[e.jsx("p",{className:"bg-[#5a5a5a80] h-[1px] w-[25%]"}),"  New To Nearo   ",e.jsx("p",{className:"bg-[#5a5a5a80] h-[1px] w-[25%]"})]}),e.jsx("br",{}),e.jsx("button",{onClick:E,className:"w-full my-2 p-2 text-[.9rem] text-[#1687a7] duration-500 hover:text-white bg-transparent hover:bg-[#1687a7] rounded-lg border border-[#1687a7]",children:"Create New Account"})]})]})]}),m&&e.jsx(B,{open:m,onNo:()=>r(!1),size:"medium",title:"Forget Password?",className:"w-auto c500:w-[500px] mx-auto h-[550px] ",fullScreen:!1,children:e.jsx(a.Suspense,{fallback:e.jsx("div",{className:"flex justify-center",children:e.jsx(v,{})}),children:e.jsx(U,{setForgetOpen:r})})})]})};export{W as default};

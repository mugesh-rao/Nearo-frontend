import{r as i,_ as w,b as y,h as A,v as k,w as C,i as L,k as O,j as e,Y as l,Z as E,$ as R,a0 as S,a1 as F,R as P,c,e as I}from"./index-70997a97.js";const Q=i.lazy(()=>w(()=>import("./index-70997a97.js").then(o=>o.bC),["assets/index-70997a97.js","assets/index-52a015f8.css"])),z=()=>{const o=y(),t=A(),p=()=>{o("neworder")},u=()=>{o("/dashboard/orders")},j=()=>{o("shipping")},b=()=>{o("delivered")},g=()=>{o("cancelled")},{activeLinkParam:a}=k(),x=C(),[r,m]=i.useState(a);i.useEffect(()=>{m(a)},[a]),i.useEffect(()=>{m(x.pathname)},[x]);const _=d=>I({url:"/dashboard/get_order_stats",method:"post",data:d}),n=L(),{mutate:v,isLoading:N}=O(_,{onSuccess:d=>{var h;f((h=d==null?void 0:d.data)==null?void 0:h.data),n.invalidateQueries("session_id")},onError:d=>{console.log(d)},retry:{maxAttempts:3,delay:d=>d*1e3}}),[s,f]=i.useState(i.useMemo(()=>{const d=n.getQueryData("session_id");return d?d.data:null},[n]));return i.useEffect(()=>{if(!t)o("/login");else{const d=new FormData;d.append("session_id",t),v(d)}},[]),N?e.jsx("div",{className:"h-screen grid place-items-center absolute bg-white z-20 top-0 right-0 bottom-0 left-0",children:e.jsx(i.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(Q,{})})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"hidden md:flex justify-between items-center px-2 py-5 shadow-[0px_2px_3px_-1px_rgba(0,0,0,0.1),0px_1px_0px_0px_rgba(25,28,33,0.02),0px_0px_0px_1px_rgba(25,28,33,0.08)] lg:rounded-lg bg-white mx-2 my-5 ",children:[e.jsxs("div",{className:"flex items-center cursor-pointer ",onClick:u,children:[e.jsx("div",{style:{background:l[0].bg,color:l[0].color},className:"p-3 rounded-lg ",children:e.jsx(E,{className:"text-3xl "})}),e.jsxs("div",{className:"mx-2",children:[e.jsx("p",{className:"text-[#5a5a0a]",children:"All Orders"}),e.jsxs("h1",{className:"text-xl font-semibold",children:[s&&(s==null?void 0:s.num_all_orders)," "]})]})]}),e.jsxs("div",{onClick:p,className:"flex items-center cursor-pointer",children:[e.jsxs("div",{style:{background:l[1].bg,color:l[1].color},className:"p-3 rounded-lg ",children:[e.jsx(R,{className:"text-3xl"})," "]}),e.jsxs("div",{className:"mx-2",children:[e.jsx("p",{className:"text-[#5a5a0a]",children:"New Order"}),e.jsx("h1",{className:"text-xl font-semibold",children:s&&(s==null?void 0:s.num_new_orders)})]})]}),e.jsxs("div",{onClick:j,className:"flex items-center cursor-pointer",children:[e.jsxs("div",{style:{background:l[2].bg,color:l[2].color},className:"p-3 rounded-lg ",children:[" ",e.jsx(S,{className:"text-3xl"})," "]}),e.jsxs("div",{className:"mx-2",children:[e.jsx("p",{className:"text-[#5a5a0a]",children:"Ready for Ship"}),e.jsx("h1",{className:"text-xl font-semibold",children:s&&(s==null?void 0:s.num_rfs_orders)})]})]}),e.jsxs("div",{onClick:b,className:"flex items-center cursor-pointer",children:[e.jsxs("div",{style:{background:l[3].bg,color:l[3].color},className:"p-3 rounded-lg ",children:[" ",e.jsx(F,{className:"text-3xl"})," "]}),e.jsxs("div",{className:"mx-2",children:[e.jsx("p",{className:"text-[#5a5a0a]",children:"Delivered"}),e.jsx("h1",{className:"text-xl font-semibold",children:s&&(s==null?void 0:s.num_delivered_orders)})]})]}),e.jsxs("div",{onClick:g,className:"flex items-center cursor-pointer",children:[e.jsxs("div",{style:{background:l[4].bg,color:l[4].color},className:"p-3 rounded-lg ",children:[" ",e.jsx(P,{className:"text-3xl"})," "]}),e.jsxs("div",{className:"mx-2",children:[e.jsx("p",{className:"text-[#5a5a0a]",children:"Cancelled"}),e.jsx("h1",{className:"text-xl font-semibold",children:s&&(s==null?void 0:s.num_cancelled_orders)})]})]})]}),e.jsxs("div",{className:" md:hidden   bg-white pt-2",children:[e.jsx("h2",{className:"ml-4 text-xl font-semibold text-[#1687a7]",children:"Order"}),e.jsx("div",{className:"overflow-x-auto whitespace-nowrap my-2",children:e.jsxs("ul",{className:"flex w-max h-10 justify-between space-x-8 sm:w-full",children:[e.jsx("li",{className:"ml-4",children:e.jsxs(c,{to:"/dashboard/orders",isActive:()=>r==="/dashboard/orders",style:{padding:"0 0 3px 0",color:r==="/dashboard/orders"?"#1687A7":"",borderBottom:r==="/dashboard/orders"?"2px solid #1687A7":""},children:["All Orders (",s&&(s==null?void 0:s.num_all_orders),")"]})}),e.jsx("li",{children:e.jsxs(c,{to:"neworder",isActive:()=>r==="/dashboard/orders/neworder",style:{padding:"0 0 3px 0",color:r==="/dashboard/orders/neworder"?"#1687A7":"",borderBottom:r==="/dashboard/orders/neworder"?"2px solid #1687A7":""},children:["New Order (",s&&(s==null?void 0:s.num_new_orders),")"]})}),e.jsx("li",{children:e.jsxs(c,{to:"shipping",isActive:()=>r==="/dashboard/orders/shipping",style:{padding:"0 0 3px 0",color:r==="/dashboard/orders/shipping"?"#1687A7":"",borderBottom:r==="/dashboard/orders/shipping"?"2px solid #1687A7":""},children:["Ready For Ship (",s&&(s==null?void 0:s.num_rfs_orders),")"]})}),e.jsx("li",{children:e.jsxs(c,{to:"delivered",isActive:()=>r==="/dashboard/orders/delivered",style:{padding:"0 0 3px 0",color:r==="/dashboard/orders/delivered"?"#1687A7":"",borderBottom:r==="/dashboard/orders/delivered"?"2px solid #1687A7":""},children:["Delivered (",s&&(s==null?void 0:s.num_delivered_orders),")"]})}),e.jsx("li",{className:"pr-6",children:e.jsxs(c,{to:"cancelled",isActive:()=>r==="/dashboard/orders/cancelled",style:{padding:"0 0 3px 0",color:r==="/dashboard/orders/cancelled"?"#1687A7":"",borderBottom:r==="/dashboard/orders/cancelled"?"2px solid #1687A7":""},children:["Cancelled (",s&&(s==null?void 0:s.num_cancelled_orders),")"]})})]})})]})]})};export{z as default};
